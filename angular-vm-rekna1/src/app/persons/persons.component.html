<p>persons works!</p>
<router-outlet></router-outlet>
<person-list #list>Person List here</person-list>

<ng-container *ngIf="vm$ | async as vm">
  
  <h1>Persons</h1>
  <person-form (personAdded)="addState.next($event)"></person-form>
  <hr />
  <h3>Person List</h3>
  <person-list [persons$] = "vm.persons"
                (deletedPerson)="deletePerson($event)"
                (detailedPerson)="detailPerson($event)"
  ></person-list>
  <hr />
  <!-- show/update item details -->
  <div style="margin-top:1em" *ngIf="vm.selectedPerson">
    {{vm.selectedPerson.id}} - {{vm.selectedPerson.name}}- {{vm.selectedPerson.age}}
    <div>
      <label for="name">Name</label>
      <input name="name" [(ngModel)]="vm.selectedPerson.name" #person type="text" value ="vm.selectedPerson.name" (change)="updateState.next( person)" >
    </div>
  <div>
    <label for="age">Age</label>
      <input name="age" [(ngModel)]="vm.selectedPerson.age" #person type="number" value ="vm.selectedPerson.age" (change)="updateState.next( person)" >
    </div>
  <div>
    <label for="height">Height</label>
      <input name="height" [(ngModel)]="vm.selectedPerson.height" #person type="number" value ="vm.selectedPerson.height" (change)="updateState.next( person)" >
    </div>
  <div>
    <label for="weight">Weight</label>
      <input name="weight" [(ngModel)]="vm.selectedPerson.weight" #person type="number" value ="vm.selectedPerson.weight" (change)="updateState.next( person)" >
    </div>
  <div>
    <label for="bmi">Body Mass Index</label>
      <input name="bmi" [(ngModel)]="vm.selectedPerson.bmi" #person type="number" value ="vm.selectedPerson.bmi" (change)="updateState.next( person)" >
    </div>

  <!-- close item details -->
      <button (click)="detailStateClose.next()">close</button>
</div>
 
  
  
      <!-- <pre>vm {{  vm | json }}</pre> -->
  
    


</ng-container>
